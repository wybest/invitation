function Q(a){if(!a){return null}if(a.constructor==String){var b=document.querySelectorAll(a);return b}return a}Q.trim=function(b){var a=new RegExp("(^[\\s\\t\\xa0\\u3000]+)|([\\u3000\\xa0\\s\\t]+$)","g");return String(b).replace(a,"")};Q.addClass=function(h,j){h=Q(h);var b=j.split(/\s+/),a=h.className,f=" "+a+" ",g=0,d=b.length;for(;g<d;g++){if(f.indexOf(" "+b[g]+" ")<0){a+=(a?" ":"")+b[g]}}h.className=Q.trim(a);return h};Q.hasClass=function(d,f){d=Q(d);if(!d.nodeType===1){return false}var b=Q.trim(f).split(/\s+/),a=b.length;className=d.className.split(/\s+/).join(" ");while(a--){if(!(new RegExp("(^| )"+b[a]+"( |$)")).test(className)){return false}}return true};Q.removeClass=function(f,h){f=Q(f);var b=f.className.split(/\s+/);var g=h.split(/\s+/);var a=b.length;var j=g.length;for(var d=0;d<j;d++){while(a--){if(b[a]==g[d]){b.splice(a,1);break}}}f.className=b.join(" ");return f};Q.tap=function(f,j){var a,h,d,g,b,i;a="1.0.1";d=2*1000;i=function(k,l){return function(){return k.apply(l,arguments)}};if("ontouchstart" in document.documentElement){f.addEventListener("touchstart",i(function(k){g=new Date().getTime();h=false},f));f.addEventListener("touchmove",i(function(k){h=true},f));f.addEventListener("touchend",i(function(k){b=new Date().getTime();if(!h&&((b-g)<d)){j(k)}},f));f.addEventListener("touchcancel",i(function(k){j(k)},f))}else{f.addEventListener("click",i(function(k){j(k)},f))}};var openAppController=function(h){function g(i){var j=new RegExp("(^|&)"+i+"=([^&]*)(&|$)");var k=h.location.search.substr(1).match(j);if(null!=k){return unescape(k[2])}return null}function b(l){var k="";if(l){for(var j=0;j<l.length;j++){c=l.charAt(j);if("<"==c||">"==c){continue}k+=c}}return k}f.today=new Date();f.seed=f.today.getTime();function f(){f.seed=(f.seed*9301+49297)%233280;return f.seed/(233280)}function a(i){return Math.ceil(f()*i)}function d(){key=a(100000000)+"";sum=0;for(var j=0;j<key.length;j++){sum+=parseInt(key[j])}sum+="";return key.length+key+sum.length+sum}return{callDone:false,showDone:false,init:function(){if(typeof WeixinJSBridge!="undefined"&&WeixinJSBridge.invoke){openAppController.hasNewsApp()}else{document.addEventListener("WeixinJSBridgeReady",openAppController.hasNewsApp)}openAppController.reCheck();var i=document.getElementById("ShowHelp");if(i){i.ontouchstart=function(j){openAppController.sendBoss("clickDonationUrl")}}},reCheck:function(){setTimeout(function(){openAppController.showDownload()},3000)},hasNewsApp:function(){if(typeof WeixinJSBridge!="undefined"){var k=navigator.userAgent.toLowerCase();var j=/iphone/i.test(k)?true:false;var i=/android/i.test(k)?true:false;if(j||i){WeixinJSBridge.invoke("getInstallState",{packageName:"com.tencent.news",packageUrl:"qqnews://can_open_me_if_install_and_regeister_this_scheme"},function(n){var o=n.err_msg;if(o.indexOf("get_install_state:yes")>-1){if(i){var m=o.split("_");var l=m.length>0?Number(m[m.length-1]):0;if(l>=220){openAppController.callDone=true;openAppController.showComment();openAppController.callBack();openAppController.sendBoss()}else{openAppController.showDownload()}}else{openAppController.callDone=true;openAppController.showComment();openAppController.callBack();openAppController.sendBoss()}}openAppController.showDownload()})}}else{openAppController.showDownload()}},callBack:function(){var i=document.getElementById("imgdownload");i.style.visibility="visible";i.className="client_open_tips";i.href=openUrl;var j=i.querySelector("span");if(j){j.innerHTML=""}if(downLoadController){downLoadController.remove()}},showComment:function(){var i=document.location.href;var k=document.getElementById("Comment");var j=this.getQuery(i,"mmuin");if(k&&(muinObj.allUser||(j&&muinObj[j]))){this.loadComment()}},loadComment:function(){if(commentWxData&&commentWxData.ret==0){this.renderCommentHtml()}},renderCommentHtml:function(){var q=document.getElementById("Comment");var s=commentWxData.comments.hot;var p=[];p.push('<div class="c-title">热门评论</div>');p.push('<ul class="c-list">');for(var o=0,l=s.length;o<l;o++){var m=s[o];var r=m&&m.length>1?true:false;var t=r?m[1]:m[0];var j=t.mb_head_url?t.mb_head_url:t.head_url?t.head_url:"";p.push("<li>");p.push('    <div class="c-date">'+this.formatDate(t.pub_time)+"</div>");p.push('    <div class="c-icon">');if(j){p.push('<img src="'+j+'" width="40" height="40" >')}p.push("</div>");p.push('    <div class="c-content">');var k=t.mb_nick_name?t.mb_nick_name:t.nick?t.nick:"腾讯网友";p.push('    <div class="c-user">'+k);if(t.mb_isvip){p.push('<img src="http://mat1.gtimg.com/www/images/newsapp/wechat/weibohot_vip_img2x.png" width="16" height="16" />')}p.push("</div>");if(t.mb_isvip){p.push('<div class="c-alias">'+(t.mb_usr_desc?t.mb_usr_desc:t.mb_usr_desc_detail)+"</div>")}p.push('    <div class="c-p">'+t.reply_content);if(r){var t=m[0];var k=t.mb_nick_name?t.mb_nick_name:t.nick?t.nick:"腾讯网友";p.push(" || <em>"+k+"</em><span>："+t.reply_content+"</span>")}p.push("</div>");p.push("    </div>");p.push("</li>")}p.push("</ul>");q.innerHTML=p.join("");q.style.display="block"},formatDate:function(k){var j=new Date(k*1000);var l=new Date();var i=parseInt((l.getTime()-j.getTime())/1000);if(i<0){re="0秒"}else{if(i>=60*60*24){re=parseInt(i/(60*60*24))+"天"}else{if(i>=60*60){re=parseInt(i/(60*60))+"小时"}else{if(i>=60){re=parseInt(i/60)+"分钟"}else{re=i+"秒"}}}re+="前"}return re},showDownload:function(){if(openAppController.callDone){return false}var i=document.getElementById("imgdownload");if(!i){return false}i.style.visibility="visible";i.className="client_new_tips";i.href=downloadUrl+"&reqkey="+d()+"&mmuin="+b(g("mmuin"));var j=i.querySelector("span");if(j){j.innerHTML=introText}if(!openAppController.showDone){openAppController.asyncShowFloatDownload();openAppController.showDone=true}},asyncShowFloatDownload:function(){var i=document.createElement("script");i.type="text/javascript";i.async=true;i.charset="charset";i.onload=function(){if(downLoadController){downLoadController.init()}};i.src="http://mat1.gtimg.com/www/js/newsapp/wechat/downloadController.min.js";var j=document.getElementsByTagName("script")[0];j.parentNode.insertBefore(i,j)},getQuery:function(j,k){var l=new RegExp("(^|&|\\?|#)"+k+"=([^&#]*)(&|$|#)","");var i=j.match(l);if(i){return i[2]}return""},sendBoss:function(k){var j=document.location.href;var l=[];l.push("sIp=");l.push("iQQ="+this.getQuery(j,"mmuin"));l.push("sBiz="+encodeURIComponent("appnews.front.newsOpen"));if(k){l.push("sOp="+k)}else{l.push("sOp=displayOpenButton")}l.push("iSta=0");l.push("iTy=1702");l.push("iFlow=");l.push("sOsType="+mobileType);l.push("sNewsId="+newsId);l.push("sGroupId="+this.getQuery(j,"groupid"));l.push("sMsgId="+this.getQuery(j,"msgid"));l.push("sDt="+this.getQuery(j,"dt"));l.push("sCv="+this.getQuery(j,"cv"));l.push("sRefer="+this.getQuery(j,"refer"));var i=new Image();i.onload=function(){};i.src="http://btrace.qq.com/collect?"+l.join("&")}}}(window);var showMoreNews={isBeginHide:false,init:function(){var b=Q("#content .text, #content .preLoad");for(var a=0,g=b.length;a<g;a++){var f=b[a];var d=f.innerHTML;if(showMoreNews.isBeginHide){Q.addClass(f,"showMoreHide")}if(/\$\$\$/i.test(d)){f.innerHTML=d.replace(/<\!\-\-\$\$\$\-\->|\$\$\$/ig,"");showMoreNews.createMoreHTML(f);showMoreNews.isBeginHide=true}}},createMoreHTML:function(a){var b=document.createElement("div");b.id="showMore";if(showMoreNews.isBeginHide){b.className="showMoreAll showMoreHide"}else{b.className="showMoreAll"}b.innerHTML='<span class="showMore" hideFocus="true">点击展开全文</span>';b.style.cssText="textAlign:center,margin:0 -16px 30px";a.parentNode.insertBefore(b,a.nextSibling);Q.tap(b,showMoreNews.clickHandle)},removeMoreHTML:function(){var a=Q(".showMoreAll");var a=(a&&a.length>0)?a[0]:a;a.parentNode.removeChild(a)},clickHandle:function(){var b=Q("#content .showMoreHide");for(var a=0,f=b.length;a<f;a++){var d=b[a];Q.removeClass(d,"showMoreHide");if(d.id=="showMore"){break}}showMoreNews.removeMoreHTML()}};var weChatBridgeReady={init:function(){weChatBridgeReady.bindShareWithApp();weChatBridgeReady.bindShareWithTimeline();var f=Q("img");for(var b=0,d=f.length;b<d;b++){var a=f[b];Q.tap(a,weChatBridgeReady.clickHandler)}},clickHandler:function(){if(this.className=="download"){return}var d=[],g=Q("img");for(var a=0,f=g.length;a<f;a++){var b=g[a];if(b.parenNode.parenNode.id="DownloadBar"){continue}if(b.className=="download"){continue}d.push(b.src)}WeixinJSBridge.invoke("imagePreview",{current:e.target.src,urls:d})},bindShareWithApp:function(){var a=document.location.href;WeixinJSBridge.on("menu:share:appmessage",function(b){WeixinJSBridge.invoke("sendAppMessage",{appid:"",img_url:contentModel.img_url,img_width:"65",img_height:"65",link:a,desc:contentModel.src,title:contentModel.title},function(d){WeixinJSBridge.log(d.err_msg)})})},bindShareWithTimeline:function(){var a=document.location.href;WeixinJSBridge.on("menu:share:timeline",function(b){WeixinJSBridge.invoke("shareTimeline",{img_url:contentModel.img_url,img_width:"65",img_height:"65",link:a,desc:"view.inews.qq.com",title:contentModel.title},function(d){WeixinJSBridge.log(d.err_msg)})})}};showMoreNews.init();setTimeout(function(){openAppController.showDownload()},2000);openAppController.init();if(typeof WeixinJSBridge!="undefined"&&WeixinJSBridge.invoke){weChatBridgeReady.init()}else{document.addEventListener("WeixinJSBridgeReady",weChatBridgeReady.init)};/*  |xGv00|6dc5ff1933318b3144656ef51d7b58eb */